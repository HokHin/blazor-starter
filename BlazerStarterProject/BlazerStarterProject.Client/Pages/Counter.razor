@page "/counter"
@using Fluxor
@inherits Fluxor.Blazor.Web.Components.FluxorComponent

@inject IDispatcher Dispatcher
@inject IState<CounterStore> CounterState

<Fluxor.Blazor.Web.StoreInitializer/>

<h1>Counter</h1>

<p>Current count: @CounterState.Value.CurrentCount</p>

<button class="btn btn-primary" @onclick="DecrementCount">- 1</button>
<button class="btn btn-primary" @onclick="ResetCount">Reset</button>
<button class="btn btn-primary" @onclick="IncrementCount">+ 1</button>

@code {

    private void IncrementCount()
    {
        Dispatcher.Dispatch(new CounterActions.CounterIncrementAction());
    }

    private void ResetCount()
    {
        Dispatcher.Dispatch(new CounterActions.CounterResetAction());
    }

    private void DecrementCount()
    {
        Dispatcher.Dispatch(new CounterActions.CounterDecrementAction());
    }

}